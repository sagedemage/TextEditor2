"use strict";const s=require("fs"),{dialog:n,Notification:l,BrowserWindow:h}=require("electron");class a{constructor(){this.file_path=""}show_file_path(t){h.getFocusedWindow().setTitle("Text Editor 2 - "+t)}show_notification(t,i){const e={title:t,subtitle:"Subtitle of the Notification",body:i,silent:!1,hasReply:!0,timeoutType:"never",replyPlaceholder:"Reply Here",closeButtonText:"Close Button",actions:[{type:"button",text:"Show Button"}]};new l(e).show()}write_file(t,i){s.writeFile(t,i,function(e){e&&console.error(e)}),this.show_file_path(this.file_path),this.show_notification("Saved","File saved!")}async save_file(t){if(this.file_path===""){const{filePath:i}=await n.showSaveDialog({title:"Choose the file path to save to",properties:[]});i!==""&&(this.file_path=i,this.write_file(this.file_path,t))}else this.write_file(this.file_path,t)}async open_file(){const t=h.getFocusedWindow().webContents,{filePaths:i}=await n.showOpenDialog({properties:["openFile"]});i[0]!==void 0&&(this.file_path=i[0],this.file_path!==""&&(s.readFile(this.file_path,"utf8",function(e,o){e&&console.error(e),t.send("set-content",o)}),this.show_notification("Opened","File opened!"),this.show_file_path(this.file_path)))}}module.exports=a;
